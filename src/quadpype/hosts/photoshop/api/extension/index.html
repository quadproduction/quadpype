<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<style>
html, body {
  width: 100%;
  margin: 0;
  padding: 0;
  background-color: #424242;
  font-family: Arial, sans-serif;
  height: auto;
  overflow: visible;
}

/* ===== Buttons ===== */
button {
  width: 100%;
  background: #5a5a5a;
  color: #fff;
  padding: 5px;
  cursor: pointer;
  font-family: Arial, sans-serif;
  font-weight: normal;
}

/* Buttons centered */
.button-center {
  text-align: center;
}

button:hover {
  background: #6a6a6a;
}

hr.separator {
  border: none;
  height: 1px;
  background: #666;
  margin: 8px 0;
}

/* ===== Accordion ===== */
.accordion {
  width: 100%;
}

.accordion-header {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  cursor: pointer;
  padding-left: 5px;
}

.accordion-icon {
  font-size: 12px;
  margin-left: 4px;
}

.accordion-content {
  display: none;
  padding-left: 0;
}

.accordion.open .accordion-content {
  display: block;
}
</style>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<script>
$(function () {

  /* ---------- Standard buttons ---------- */
  $("#workfiles-button").click(() => RPC.call('Photoshop.workfiles_route'));
  $("#loader-button").click(() => RPC.call('Photoshop.loader_route'));
  $("#create-button").click(() => RPC.call('Photoshop.create_route'));
  $("#publish-button").click(() => RPC.call('Photoshop.publish_route'));
  $("#sceneinventory-button").click(() => RPC.call('Photoshop.sceneinventory_route'));
  $("#experimental-button").click(() => RPC.call('Photoshop.experimental_tools_route'));

  /* ---------- Accordion toggle ---------- */
  $(".accordion-header").click(function (e) {
    e.stopPropagation();
    const accordion = $(this).parent();
    accordion.toggleClass("open");
    accordion.find(".accordion-icon")
      .text(accordion.hasClass("open") ? "▼" : "▶");
  });

  /* ---------- Template Build buttons ---------- */
  $("#template-create").click(() => RPC.call('Photoshop.create_placeholder_route'));

  $("#template-update").click(() => RPC.call('Photoshop.update_placeholder_route'));
  $("#template-build").click(() => RPC.call('Photoshop.build_workfile_template_route'));
});
</script>
</head>

<body>

<!-- ================= CEP ================= -->
<script src="./client/wsrpc.js"></script>
<script src="./client/CSInterface.js"></script>
<script src="./client/loglevel.min.js"></script>
<script src="./host/JSX.js"></script>
<script src="./client/client.js"></script>

<!-- ================= UI ================= -->
<button id="workfiles-button" class="button-center">Workfiles...</button>
<button id="loader-button" class="button-center">Load...</button>
<button id="create-button" class="button-center">Create...</button>
<button id="publish-button" class="button-center">Publish...</button>
<button id="sceneinventory-button" class="button-center">Manage...</button>
<button id="experimental-button" class="button-center">Experimental Tools...</button>

<hr class="separator">

<!-- ================= Accordion ================= -->
<div class="accordion">
  <button class="accordion-header">
    Template Build
    <span class="accordion-icon">▶</span>
  </button>

  <div class="accordion-content">
    <button id="template-create" class="button-center">Create PlaceHolders</button>
    <button id="template-update" class="button-center">Update PlaceHolders</button>
    <button id="template-build" class="button-center">Build From Template</button>
  </div>
</div>

</body>
</html>
